# ============================================
# YYChat 精简环境变量配置示例
# ============================================
# 复制此文件为 .env 并根据需要修改配置值
# 此文件包含最关键的配置项，适合快速部署

# ============================================
# 🔑 核心API密钥配置 (必须)
# ============================================
# OpenAI API密钥 - 必须配置
OPENAI_API_KEY=your-openai-api-key-here

# YYChat API密钥 - 可选，有默认值
YYCHAT_API_KEY=your-yychat-api-key-here

# 外部服务API密钥 - 可选
TAVILY_API_KEY=your-tavily-api-key-here

# ============================================
# 🤖 AI模型配置 (推荐配置)
# ============================================
# OpenAI模型名称
OPENAI_MODEL=gpt-4.1

# OpenAI API基础URL
OPENAI_BASE_URL=https://api.openai.com/v1

# 模型温度参数 (0.0-2.0)
OPENAI_TEMPERATURE=0.75

# 最大token数量
OPENAI_MAX_TOKENS=16384

# ============================================
# 🧠 记忆管理配置 (推荐配置)
# ============================================
# Mem0 API密钥 - 可选
MEM0_API_KEY=your-mem0-api-key-here

# Mem0服务地址
MEM0_BASE_URL=http://192.168.66.163:8765

# 是否使用本地Mem0
MEMO_USE_LOCAL=false

# 是否启用记忆检索
ENABLE_MEMORY_RETRIEVAL=true

# 记忆检索数量限制
MEMORY_RETRIEVAL_LIMIT=5

# ============================================
# 💾 数据存储配置 (推荐配置)
# ============================================
# 向量存储提供商 (chroma, qdrant)
VECTOR_STORE_PROVIDER=chroma

# ChromaDB持久化目录
CHROMA_PERSIST_DIRECTORY=./chroma_db

# ChromaDB集合名称
CHROMA_COLLECTION_NAME=chat_history

# ============================================
# 🚀 服务器配置 (必须)
# ============================================
# 服务器监听地址
SERVER_HOST=0.0.0.0

# 服务器监听端口
SERVER_PORT=8000

# ============================================
# 💬 聊天引擎配置 (推荐配置)
# ============================================
# 聊天引擎类型: chat_engine, mem0_proxy
CHAT_ENGINE=chat_engine

# 默认人格配置
DEFAULT_PERSONALITY=health_assistant

# 是否默认启用流式响应
STREAM_DEFAULT=true

# 是否默认启用工具调用
USE_TOOLS_DEFAULT=true

# ============================================
# 🎤 实时语音配置 (可选)
# ============================================
# 实时语音功能开关
REALTIME_VOICE_ENABLED=true

# 实时语音模型
REALTIME_VOICE_MODEL=gpt-4o-realtime-preview-2024-12-17

# ============================================
# ⚡ 性能优化配置 (可选)
# ============================================
# OpenAI API总超时时间 (秒)
OPENAI_API_TIMEOUT=30.0

# OpenAI连接超时时间 (秒)
OPENAI_CONNECT_TIMEOUT=10.0

# OpenAI API重试次数
OPENAI_API_RETRIES=2

# 最大连接数
MAX_CONNECTIONS=100

# ============================================
# 📊 缓存配置 (可选)
# ============================================
# 是否启用Redis缓存
USE_REDIS_CACHE=false

# Redis服务器地址
REDIS_HOST=localhost

# Redis服务器端口
REDIS_PORT=6379

# Redis缓存TTL (秒)
REDIS_TTL=1800

# ============================================
# 📈 监控和日志配置 (可选)
# ============================================
# 是否启用性能监控
ENABLE_PERFORMANCE_MONITOR=true

# 日志级别
LOG_LEVEL=INFO

# 日志文件名
LOG_FILE_NAME=app.log

# ============================================
# 📋 API元数据配置 (可选)
# ============================================
# API标题
API_TITLE=YYChat OpenAI兼容API

# API描述
API_DESCRIPTION=YYChat是一个基于OpenAI API的聊天机器人，使用Mem0和ChromaDB进行记忆管理。

# API版本
API_VERSION=0.1.1

# ============================================
# 🎵 音频处理配置 (可选)
# ============================================
# 音频文件大小限制 (MB)
AUDIO_MAX_SIZE_MB=25

# 文本长度限制 (字符)
TEXT_MAX_LENGTH=4096

# 最小语速
VOICE_SPEED_MIN=0.25

# 最大语速
VOICE_SPEED_MAX=4.0

# 音频压缩质量 (1-100)
AUDIO_COMPRESSION_QUALITY=70

# ============================================
# 🎤 语音和模型默认配置 (可选)
# ============================================
# 默认语音转文本模型
DEFAULT_WHISPER_MODEL=whisper-1

# 默认文本转语音模型
DEFAULT_TTS_MODEL=tts-1

# 默认语音
DEFAULT_VOICE=shimmer

# 默认聊天模型
DEFAULT_CHAT_MODEL=gpt-4o-mini

# ============================================
# ⏱️ 超时和重试配置 (可选)
# ============================================
# 连接超时 (秒)
CONNECTION_TIMEOUT=30

# 重试次数
MAX_RETRY_ATTEMPTS=3

# 语音活动检测阈值
VAD_SILENCE_THRESHOLD=10

# 音频缓冲区大小
AUDIO_BUFFER_SIZE=100

# 音频处理器超时 (秒)
AUDIO_PROCESSOR_TIMEOUT=30.0

# 音频处理器最大工作线程数
AUDIO_PROCESSOR_MAX_WORKERS=4

# ============================================
# 🌐 WebSocket和网络配置 (可选)
# ============================================
# WebSocket接收超时 (秒)
WEBSOCKET_RECEIVE_TIMEOUT=5.0

# WebSocket连接超时 (秒)
WEBSOCKET_CONNECT_TIMEOUT=10.0

# WebSocket关闭超时 (秒)
WEBSOCKET_CLOSE_TIMEOUT=5.0

# WebSocket ping超时 (秒)
WEBSOCKET_PING_TIMEOUT=10.0

# 最大重试次数
MAX_CONNECTION_ATTEMPTS=5

# ============================================
# 🎯 实时语音配置 (可选)
# ============================================
# 实时语音连接超时 (秒)
REALTIME_CONNECTION_TIMEOUT=30

# 实时语音重连次数
REALTIME_RECONNECT_ATTEMPTS=3

# 实时语音空闲超时 (毫秒)
REALTIME_IDLE_TIMEOUT_MS=30000

# 实时语音阈值
REALTIME_VOICE_THRESHOLD=0.2

# ============================================
# 📊 测试和调试配置 (可选)
# ============================================
# 测试超时时间 (秒)
TEST_TIMEOUT=30

# 测试重试次数
TEST_MAX_ATTEMPTS=5

# 调试模式
DEBUG_MODE=false

# 详细日志
VERBOSE_LOGGING=false
