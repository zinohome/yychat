# YYChat Configuration Example
# 复制此文件为 .env 并填入实际值

# ============================================
# Vector Store Provider
# ============================================
VECTOR_STORE_PROVIDER=chroma
QDRANT_HOST=192.168.66.163
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=chat_history

# ============================================
# OpenAI API Configuration
# ============================================
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_TEMPERATURE=0.75
OPENAI_MAX_TOKENS=16384

# ============================================
# YYChat API Configuration
# ============================================
YYCHAT_API_KEY=yk-1aB2cD3eF4gH5iJ6kL7mN8oP9qR0sT1uV2wX3yZ4

# ============================================
# Mem0 Configuration
# ============================================
# 本地模式 or API模式
MEMO_USE_LOCAL=true

# API模式配置 (当MEMO_USE_LOCAL=false时使用)
MEM0_API_KEY=your-mem0-api-key-here
MEM0_BASE_URL=http://192.168.66.163:8765

# 本地模式配置
MEM0_LLM_PROVIDER=openai
MEM0_LLM_CONFIG_MODEL=gpt-4-turbo-preview
MEM0_LLM_CONFIG_MAX_TOKENS=32768

# Embedder配置
MEM0_EMBEDDER_MODEL=text-embedding-3-small

# ============================================
# ChromaDB Configuration (本地模式)
# ============================================
CHROMA_PERSIST_DIRECTORY=./chroma_db
CHROMA_COLLECTION_NAME=chat_history

# ============================================
# Server Configuration
# ============================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# ============================================
# Chat Engine Configuration
# ============================================
# 可选值: chat_engine, mem0_proxy
CHAT_ENGINE=chat_engine

# 默认人格
DEFAULT_PERSONALITY=health_assistant

# 默认行为
STREAM_DEFAULT=true
USE_TOOLS_DEFAULT=true

# ============================================
# Performance Optimization (重要!)
# ============================================
# Memory检索超时 (秒) - 降低此值可显著提升响应速度
# 建议值: 0.5 (从默认的2.0降低)
MEMORY_RETRIEVAL_TIMEOUT=0.5

# Memory检索限制
MEMORY_RETRIEVAL_LIMIT=5

# 是否启用Memory检索 (设为false可禁用Memory以获得最快响应)
ENABLE_MEMORY_RETRIEVAL=true

# Memory缓存配置
MEMORY_ENABLE_CACHE=true
MEMORY_CACHE_TTL=300
MEMORY_CACHE_SIZE=100

# Memory保存模式
# 可选值: both(同时保存用户和助手), user_only, assistant_only
MEMORY_SAVE_MODE=both

# ============================================
# OpenAI API Performance
# ============================================
OPENAI_API_TIMEOUT=30.0
OPENAI_CONNECT_TIMEOUT=10.0
OPENAI_READ_TIMEOUT=30.0
OPENAI_WRITE_TIMEOUT=10.0
OPENAI_POOL_TIMEOUT=30.0
OPENAI_API_RETRIES=2

# ============================================
# HTTP Client Configuration
# ============================================
MAX_CONNECTIONS=100
MAX_KEEPALIVE_CONNECTIONS=20
KEEPALIVE_EXPIRY=30
VERIFY_SSL=false

# ============================================
# Streaming Configuration
# ============================================
CHUNK_SPLIT_THRESHOLD=100

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=INFO
LOG_FILE_NAME=app.log

# ============================================
# External Services
# ============================================
TAVILY_API_KEY=your-tavily-api-key-here

# ============================================
# API Metadata
# ============================================
API_TITLE=YYChat OpenAI兼容API
API_DESCRIPTION=YYChat是一个基于OpenAI API的聊天机器人，使用Mem0和ChromaDB进行记忆管理。
API_VERSION=0.1.1

